
export interface UserProfile {
  uid: string;
  email: string | null;
  name?: string;
  profileField?: string; // e.g., "Software Engineering", "Product Management"
  role?: string; // e.g., "Frontend Developer", "Senior PM"
  company?: string | null;
  education?: string;
  phoneNumber?: string | null;
  
  resumeFileName?: string | null; 
  resumeFileUrl?: string | null; 
  resumeStoragePath?: string | null; 
  resumeProcessedText?: string | null;

  createdAt: string;
  interviewsTaken?: number;
  isPlusSubscriber?: boolean;
  subscriptionPlan?: 'monthly' | 'quarterly' | 'yearly' | null;
  isAdmin?: boolean; // For admin role
  updatedAt?: string;
}

export interface InterviewSession {
  id: string;
  userId: string;
  duration: 15 | 30 | 45; // minutes
  status: "pending" | "questions_generated" | "started" | "completed" | "cancelled";
  questions?: GeneratedQuestion[]; // Questions generated by AI, including user's answers
  transcript?: string; // Full interview transcript
  feedback?: InterviewFeedback;
  createdAt: string;
  updatedAt?: string;
}

// This type is used for generating questions initially and during the interview
export interface GeneratedQuestion {
  id: string;
  text: string;
  stage: "oral" | "technical_written";
  type: "behavioral" | "technical" | "coding" | "conversational" | "resume_based";
  answer?: string; // User's answer for this question
}

// This type is specifically for the detailed feedback on each question
export interface DetailedQuestionFeedbackItem {
  questionId: string; 
  questionText: string;
  userAnswer?: string;
  idealAnswer: string;
  refinementSuggestions: string;
  score: number; // e.g., 0-10 for each question
}

export interface InterviewFeedback {
  overallScore?: number; // 0-100 (overall for the interview)
  overallFeedback: string;
  strengthsSummary: string; // Renamed from correctAnswersSummary
  weaknessesSummary: string; // Renamed from incorrectAnswersSummary
  overallAreasForImprovement: string; // Renamed from areasForImprovement
  detailedQuestionFeedback?: DetailedQuestionFeedbackItem[]; // New field
}
